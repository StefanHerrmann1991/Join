<head>
    <!-- script data -->
    <script src="../../includeHTML.js"></script>
    <script src="../../mini_backend.js"></script>
    <script src="../../script.js"></script>
    <script src="addTasks.js"></script>
    <script src="../02board/board.js"></script>

    <script src="../04contacts/contacts.js"></script>
    <!-- css data -->
    <link rel="stylesheet" href="addTasks.css">
    <link rel="stylesheet" href="../../styles.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join</title>
</head>

<body onload="initTasks()">

    <div w3-include-html="../../index.html"></div>
    <div class="center main-container">
        <div class="title-form">
            <h1>Add Task</h1>
            <form class="add-task-formfield" onsubmit="addToTasks()">
                <div class="add-task-left">
                    <h3>Title</h3>
                    <input required class="title" id="title" placeholder="Enter a title" oninput="loadTasks()">
                    <h3>Description</h3>
                    <textarea resize="none" required id="description" placeholder="Enter a description"></textarea>
                    <h3>Category</h3>
                    <div class="assign-btn-container" id="categoryContainer">
                        <button type="button" class="assign-btn" onclick="toggleContainer('categoryMenu')">
                            <div class="chosen-category-container" id="categorySelect">Select task category</div>
                            <div id="imgArrow"><img src="/assets/img/open.png"></div>
                        </button>
                        <div class="user-menu d-none" id="categoryMenu">
                            <button id="newCategoryBtn" type="button" class="new-category-btn"
                                onclick="newCategory()">New
                                category</button>
                            <div class="category-list" id="categoryList"></div>
                        </div>
                    </div>
                    <h3>Assigned to</h3>
                    <div class="assign-btn-container" id="assignBtnContainer">
                        <button type="button" class="assign-btn" onclick="toggleContainer('userMenu')">
                            <div>Select contact to assign</div>
                            <div id="imgArrow"><img src="/assets/img/open.png"></div>
                        </button>
                        <div class="user-menu d-none" id="userMenu">
                            <div class="user-list" id="userList"></div>
                            <button id="inviteUserBtn" type="button" class="invite-user-btn"
                                onclick="inviteUsers()">Invite new contact<img
                                    src="/assets/img/contactsBlack.png"></button>
                        </div>
                    </div>
                    <div id="userInitialContainer" class="user-initial-container"></div>
                    <div id="assignedUsersError" class="error-message" ></div>

                </div>
                <div class="add-task-right">
                    <h3>Due date</h3>
                    <input required id="date" class="date" type="date" name="setTodaysDate">
                    <h3>Prio</h3>
                    <div required id="urgency" class="priority-btns">
                        <button class="urgent priority-btn" data-value="urgent" type="button">Urgent<img
                                src="../../assets/img/prioUrgent.png"></button>
                        <button class="medium priority-btn" data-value="medium" type="button">Medium<img
                                class="medium-prio" src="../../assets/img/prioMedium.png"></button>
                        <button class="low priority-btn" data-value="low" type="button">Low<img
                                src="../../assets/img/prioLow.png"></button>
                    </div>
                    <h3>Subtasks</h3>
                    <div class="assign-btn-container" id="subtasks">
                        <button onclick="renderSubtasks()" type="button" class="assign-btn" type="text">
                            <div id="subtaskMenu">Add new subtask</div><img class="add-subtask"
                                src="/assets/img/addIcon.png">
                        </button>
                    </div>
                    <div id="renderedSubtasks"></div>
                    <div class="btn-container">
                        <button class="clear-btn" type="reset" class="clear-btn" onclick="clearAssignments()">
                            Clear<img src="/assets/img/cancel.png"></button>
                        <button class="create-task-btn" type="submit" class="assign-btn">
                            Create Task<img src="/assets/img/check.png"></button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    </div>

</body>